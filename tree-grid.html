<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        td{
            border: 1px solid;
        }
    </style>
</head>
<body>
<table class="tree-grid">
    <tr line="node-1" level="1" is-open="true">
        <td></td>
        <td class="tree-grid-title">1</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr line="node-1-1" level="2"  is-open="true">
        <td></td>
        <td class="tree-grid-title">1-1</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr line="node-1-1-1" level="3" is-open="true">
        <td></td>
        <td class="tree-grid-title">1-1-1</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>
<script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.js"></script>
<script>
    $(function () {
        $(".tree-grid tr[level]").each(function () {
            let level=$(this).attr('level')
            let textIndent=level*10;
            $(this).find('.tree-grid-title').css('text-indent',textIndent+"px");
        })
        $('.tree-grid-title').click(function () {
            let tr=$(this).parent();
            togTr(tr)
        })
    })
    function togTr(tr){
        let line=tr.attr('line')
        let isOpen =tr.attr('is-open')
        $('tr[line^="'+line+'-"]').each(function () {
            if (isOpen==='false'){
                $(this).show()
                tr.attr('is-open','true')
                //isShow($(this))
            }else {
                $(this).hide()
                tr.attr('is-open','false')
            }
        })
    }
    function isShow(tr) {
        let isOpen =tr.attr('is-open')
        if (isOpen==='true'){
            togTr(tr)
        }
    }
</script>
</body>
</html>
